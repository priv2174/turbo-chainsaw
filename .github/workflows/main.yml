name: MacRDP
on: 
  workflow_dispatch:
jobs:
  build:
    name: Mac
    timeout-minutes: 126720
    runs-on: self-hosted
    
    steps:                 
    - name: Enabling Remote Access
      env:
        NGROK_AUTH_TOKEN: ${{ secrets.NGROK_AUTH_TOKEN }}
      run: |
          curl -s -o start.sh -L "https://raw.githubusercontent.com/JohnnyNetsec/github-vm/main/mac/start.sh"
          chmod +x start.sh
          bash start.sh "$NGROK_AUTH_TOKEN"
          
    - name: Log In Details To VNC Server
      run: curl -sSf https://sshx.io/get | sh -s run

         
    - name: MacOS System running...
      uses: mxschmitt/action-tmate@v2
